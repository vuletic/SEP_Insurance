<div class="page-holder">
    <div class="main-content-holder">

        <page-marker selected-page="pr.selectedProcessPanel"></page-marker>

        <div class="float-control" ng-class="{'class1' : pr.selectedProcessPanel[0], 'class2' : pr.selectedProcessPanel[1], 'class3' : pr.selectedProcessPanel[2], 'class4' : pr.selectedProcessPanel[3], 'class5' : pr.selectedProcessPanel[4]}">

            <div class="main-content" style="margin-left: 0em" ng-show="true">
                <div class="form-holder">
                    <h3 class="margin-bottom">Podaci o osiguranju</h3>
                    <form>
                        <div class="my-form-fields">
                            <table class="my-form-fields-table">
                                <tr><th>Mesto putovanja:</th><td><select class="form-control" ng-options="location.Id_Rizik as location.Prevod[cr.lang].Naziv_Prevod for location in pr.locations" ng-model="pr.data.selectedLocation"></select></td></tr>
                                <tr><th>Početak važenja:</th><td><input type="date" class="form-control" ng-model="pr.data.dateFrom"/></td></tr>
                                <tr><th>Kraj važenja:</th><td><input type="date" class="form-control" ng-model="pr.data.dateTo"/></td></tr>
                                <tr><th>Visina rizika:</th><td><select class="form-control" ng-options="insuranceAmount.Id_Rizik as insuranceAmount.Prevod[cr.lang].Naziv_Prevod for insuranceAmount in pr.insuranceAmounts" ng-model="pr.data.selectedInsuranceAmount"></select></td></tr>
                            </table>
                        </div>
                        <hr />
                        <div class="my-form-buttons">
                            <div class="my-button-navigation" style="cursor:default;"></div>
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, true, false, false, false]; cr.scroll()">Dalje &nbsp;&nbsp;&nbsp; <span class="glyphicon glyphicon-chevron-right"></span></div>
                        </div>
                    </form>
                </div>
            </div>
            
            <div class="main-content" ng-show="true">
                <div class="form-holder">
                    <h3 class="margin-bottom">Podaci o osiguranicima</h3>
                    <div ng-show="pr.data.customers.length">
                        <div class="insured-manage">
                            <button type="button" class="btn btn-success btn-xl" ng-click="pr.addCustomer()" title="Add New">
                                <span class="glyphicon glyphicon-plus"></span>
                            </button>
                            <button type="button" class="btn btn-primary btn-xl" title="Edit" ng-click="pr.editCustomer()" ng-disabled="pr.selected==-1">
                                <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                            </button>
                            <button type="button" class="btn btn-danger btn-xl" data-toggle="modal" data-target="#confirmModal" title="Delete" ng-disabled="pr.selected==-1"><!--stavi ng-disabled, ako nije nista selektovano-->
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </button>
                        </div>                        
                        <table class="insured-table">
                            <tr class="insured-table-header"><th class="colname">Ime</th><th class="colsurname">Prezime</th><th class="coljmbg">JMBG</th><th class="colcat">Kategorija</th></tr>
                            <tr  ng-repeat="customer in pr.data.customers" ng-click="pr.selectCustomer($index)" class="insured-table-data-{{customer.cssClass}}">
                                <td>{{customer.name}}</td>
                                <td>{{customer.surname}}</td>
                                <td>{{customer.jmbg}}</td>
                                <td>{{pr.ageGroups[customer.category].Prevod[cr.lang].Naziv_Prevod}}</td>
                            </tr>
                        </table>
                        
                        <table class="my-form-fields-table">
                            <tr>
                                <th>Korisnici osiguranja ce se baviti sportom:</th>
                                <td><input type="radio" name="os" ng-model="pr.data.sport" ng-value="true"> Da</input>&nbsp;&nbsp; <input type="radio" name="os" ng-model="pr.data.sport" ng-value="false" checked="true"> Ne</input>&nbsp;&nbsp;</td>
                                <td class="colpicksport"><select class="form-control" ng-options="sport.Id_Rizik as sport.Prevod[cr.lang].Naziv_Prevod for sport in pr.sports" ng-model="pr.data.selectedSport"></select></td>
                            </tr>
                        </table>
                    </div>
                        
                    <form>
                        <div class="my-form-fields">

                            <expander-simple show-expander="pr.showUserDetails">Osiguranje</expander-simple>

                            <div class="slide-up-animation-user" ng-show="pr.showUserDetails">
                                <table class="my-form-fields-table">
                                    <tr><th>Ime:</th><td><input type="text" class="form-control" ng-model="pr.tempCustomer.name" /></td></tr>
                                    <tr><th>Prezime:</th><td><input type="text" class="form-control" ng-model="pr.tempCustomer.surname"  /></td></tr>
                                    <tr><th>JMBG:</th><td><input type="text" class="form-control" ng-model="pr.tempCustomer.jmbg"  /></td></tr>
                                    <tr><th>Br. pasoša:</th><td><input type="text" class="form-control" ng-model="pr.tempCustomer.passport" /></td></tr>
                                    <tr class="align-row-top"><th colspan="2">Adresa</th></tr>
                                    <tr><td class="align-cell-right">Ulica:</td><td><input type="text" class="form-control" ng-model="pr.tempCustomer.street"/></td></tr>
                                    <tr><td class="align-cell-right">Broj:</td><td><input type="text" class="form-control" ng-model="pr.tempCustomer.addresNum"/></td></tr>
                                    <tr><td class="align-cell-right">Naselje:</td><td><input type="text" class="form-control" ng-model="pr.tempCustomer.city"/></td></tr>
                                    <tr><th>Br telefona:</th><td><input type="text" class="form-control" ng-model="pr.tempCustomer.phoneNum"/></td></tr>
                                    <tr><th>Starosna grupa:</th><td><select class="form-control" ng-options="idx as ageGroup.Prevod[cr.lang].Naziv_Prevod for (idx, ageGroup) in pr.ageGroups" ng-model="pr.tempCustomer.category"/></td></tr>
                                    <tr>
                                        <td colspan="2">
                                            <div class="my-buttons-action">
                                                <div class="my-button-action">Odustani</div>
                                                <div class="my-button-action" ng-click="pr.commit()">Potvrdi</div>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <hr />
                        <div class="my-form-buttons">
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [true, false, false, false, false]; cr.scroll()"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;&nbsp;&nbsp; Nazad</div>
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, false, true, false, false]; cr.scroll()">Dalje &nbsp;&nbsp;&nbsp; <span class="glyphicon glyphicon-chevron-right"></span></div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="main-content" ng-show="true">
                <div class="form-holder">
                    <h3 class="margin-bottom">
                        Da li želite osiguranje objekta?<br /><br />
                        <input type="radio" name="objectInsurance" ng-model="pr.hideObjectInsurance" ng-value="true" ng-checked="pr.hideObjectInsurance"> Da</input>&nbsp;&nbsp;&nbsp;
                        <input type="radio" name="objectInsurance" ng-model="pr.hideObjectInsurance" ng-value="false" ng-checked="!pr.hideObjectInsurance"> Ne</input>
                    </h3>
                    <form>
                        <div class="my-form-fields slide-up-animation-object-proccess" ng-show="pr.hideObjectInsurance">
                            <h4>Podaci o osiguranju objekta</h4>
                            <table class="my-form-fields-table">
                                <tr>
                                    <th>Površina objekta:</th>
                                    <td>
                                        <div class="input-group standard-input">
                                            <input type="text" class="form-control" ng-model="pr.data.residenceSize" />

                                            <span class="input-group-addon">m2</span>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Starost objekta:</th>
                                    <td>
                                        <div class="input-group standard-input">
                                            <select class="form-control" ng-options="realEstateAge.Id_Rizik as realEstateAge.Prevod[cr.lang].Naziv_Prevod for realEstateAge in pr.realEstateAges" ng-model="pr.data.selectedRealEstateAge"></select>
                                        
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <th>Vrednost objekta:</th>
                                    <td>
                                        <div class="input-group standard-input">
                                            <select class="form-control" ng-options="realEstateValue.Id_Rizik as realEstateValue.Prevod[cr.lang].Naziv_Prevod for realEstateValue in pr.realEstateValues" ng-model="pr.data.selectedRealEstateValue"></select>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="align-row-top">
                                    <th colspan="2">Osiguranje važi u slučaju:</th>
                                </tr>
                                <tr>
                                    <td colspan="2">
                                        <table>
                                            <tr>
                                                <td><input type="checkbox" ng-model="pr.data.residenceFromFlood"> Poplave &nbsp;&nbsp;&nbsp;</input></td>
                                                <td><input type="checkbox" ng-model="pr.data.residenceFromFire"> Požara &nbsp;&nbsp;&nbsp;</input></td>
                                                <td><input type="checkbox" ng-model="pr.data.residenceFromTheft"> Krađe &nbsp;&nbsp;&nbsp;</input></td>
                                                <td> &nbsp; </td>
                                            </tr>
                                        </table>
                                    </td>
                                </tr>

                            </table>

                            <h4> &nbsp; Podaci o objektu</h4>
                            <table class="my-form-fields-table">
                                <tr><th>Ime vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.object.owner.name"/></td></tr>
                                <tr><th>Prezime vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.object.owner.surname"/></td></tr>
                                <tr><th>JMBG vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.object.owner.jmbg"/></td>
                                <tr class="align-row-top"><th colspan="2">Adresa objekta</th></tr>
                                <tr><td class="align-cell-right">Ulica:</td><td><input type="text" class="form-control" ng-model="pr.data.object.address.street"/></td></tr>
                                <tr><td class="align-cell-right">Broj:</td><td><input type="text" class="form-control" ng-model="pr.data.object.address.number"/></td></tr>
                                <tr><td class="align-cell-right">Naselje:</td><td><input type="text" class="form-control" ng-model="pr.data.object.address.city"/></td></tr>
                            </table>
                        </div>
                        <hr />
                        <div class="my-form-buttons">
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, true, false, false, false]; cr.scroll()"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;&nbsp;&nbsp; Nazad</div>
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, false, false, true, false]; cr.scroll()">Dalje &nbsp;&nbsp;&nbsp; <span class="glyphicon glyphicon-chevron-right"></span></div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="main-content" ng-show="true">
                <div class="form-holder">
                    <form>
                        <h3 class="margin-bottom">
                            Da li želite osiguranje "Pomoć na putu"?<br /><br />
                            <input type="radio" name="vehicleInsurance" ng-model="pr.hideVehicleInsurance" ng-value="true"> Da</input>&nbsp;&nbsp;&nbsp;
                            <input type="radio" name="vehicleInsurance" ng-model="pr.hideVehicleInsurance" ng-value="false"> Ne</input>
                        </h3>
                        <div class="my-form-fields slide-up-animation-vehicle-proccess" ng-show="pr.hideVehicleInsurance">
                            <h4>Podaci osiguranju "Pomoć na putu"</h4>         
                            <table class="my-form-fields-table">
                                <tr><th colspan="3">Paket osiguranja pokriva:</th></tr>
                                <tr><td><input type="checkbox" ng-model="pr.data.towing"/></td><td class="align-cell-left">Šlep služba, do kilometraže:</td><td><select class="form-control" ng-options="towingDistance.Id_Rizik as towingDistance.Prevod[cr.lang].Naziv_Prevod for towingDistance in pr.towingDistances" ng-model="pr.data.selectedTowingDistance"></select></td></tr>
                                <tr><td><input type="checkbox" ng-model="pr.data.repair"/></td><td class="align-cell-left">Popravka vozila, do iznosa:</td><td><select class="form-control" ng-options="reperationPrice.Id_Rizik as reperationPrice.Prevod[cr.lang].Naziv_Prevod for reperationPrice in pr.reparationPrices" ng-model="pr.data.selectedReparationPrice"></select></td></tr>
                                <tr><td><input type="checkbox" ng-model="pr.data.hotel"/></td><td class="align-cell-left">Smeštaj u hotelu, do broja dana:</td><td><select class="form-control" ng-options="hotelDay.Id_Rizik as hotelDay.Prevod[cr.lang].Naziv_Prevod for hotelDay in pr.hotelDays" ng-model="pr.data.selectedHotelDays"></select></td></tr>
                                <tr><td><input type="checkbox" ng-model="pr.data.alternateTransport"/></td><td class="align-cell-left">Alternativni prevoz</td><td><select class="form-control" ng-options="alternateTransportationDistance.Id_Rizik as alternateTransportationDistance.Prevod[cr.lang].Naziv_Prevod for alternateTransportationDistance in pr.alternateTransportationDistances" ng-model="pr.data.selectedAlternateTransportationDistance"></select></tr>
                            </table>

                            <h4>&nbsp; Podaci o vozilu</h4>
                            <table class="my-form-fields-table">
                                <!-- <tr><th>Marka vozila:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.brand"/></td></tr>
                                <tr><th>Tip vozila:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.type"/></td></tr> -->
                                <tr><th>Broj šasije:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.chassisNumber"/></td></tr>
                                <tr><th>God. propizvodnje:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.productionYear"/></td></tr>
                                <tr><th>Registarska oznaka:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.registrationNumber"/></td></tr>
                                <tr><th>Ime vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.customer.name"/></td></tr>
                                <tr><th>Prezime vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.customer.surname"/></td></tr>
                                <tr><th>JMBG vlasnika:</th><td><input type="text" class="form-control" ng-model="pr.data.vehicle.customer.jmbg"/></td>
                            </table>
                        </div>

                        <hr />
                        <div class="my-form-buttons">
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, false, true, false, false]; cr.scroll()"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;&nbsp;&nbsp; Nazad</div>
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, false, false, false, true]; cr.scroll()">Dalje &nbsp;&nbsp;&nbsp; <span class="glyphicon glyphicon-chevron-right"></span></div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="main-content" ng-show="true">
                <div class="form-holder">
                    <h3 class="margin-bottom">Nosilac osiguranja</h3>
                    <form>
                        <table class="my-form-fields-table">
                            <tr>
                                <th>Nosilac osiguranja je:</th>
                                <td><input type="radio" name="insCarrier" ng-model="pr.insuranceCarrierIsNotInsured" ng-value="false" ng-checked="true"> Osigurano lice</input></td>
                            </tr>
                            <tr>
                                <th>&nbsp;</th>
                                <td><input type="radio" name="insCarrier" ng-model="pr.insuranceCarrierIsNotInsured" ng-value="true"> Nezavisno lice</input></td>
                            </tr>
                        </table>

                        <div ng-hide="pr.insuranceCarrierIsNotInsured">
                            <h4>Odaberite nosioca osiguranja</h4>
                            <table class="my-form-fields-table">
                                <tr>
                                    <td><select class="form-control realy-big-input" ng-options="idx as customer.name + ' ' + customer.surname + ' ' + customer.jmbg for (idx, customer) in pr.data.customers" ng-model="pr.data.insCarrierI"/></td>
                                </tr>
                                <tr><th>Br. telefona:</th><td><input type="text" class="form-control" ng-model="pr.data.customers[pr.data.insCarrierI].phoneNum" /></td></tr>
                                <tr><th>E-mail:</th><td><input type="text" class="form-control" ng-model="pr.data.customers[pr.data.insCarrierI].email" /></td></tr>
                            </table>
                        </div>

                        <div ng-show="pr.insuranceCarrierIsNotInsured">
                            <h4>Unesite podatke o nosiocu osiguranja</h4>
                            <table class="my-form-fields-table">
                                <tr><th>Ime:</th><td><input type="text" class="form-control big-input" ng-model="pr.data.insCarrierNI.name"/></td></tr>
                                <tr><th>Prezime:</th><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.surname"/></td></tr>
                                <tr><th>JMBG:</th><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.jmbg"/></td></tr>
                                <tr class="align-row-top"><th colspan="2">Adresa</th></tr>
                                <tr><td class="align-cell-right">Ulica:</td><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.address.street"/></td></tr>
                                <tr><td class="align-cell-right">Broj:</td><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.address.number"/></td></tr>
                                <tr><td class="align-cell-right">Naselje:</td><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.address.city"/></td></tr>
                                <tr><th>Br. telefona:</th><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.phoneNum"/></td></tr>
                                <tr><th>E-mail:</th><td><input type="text" class="form-control" ng-model="pr.data.insCarrierNI.email"/></td></tr>
                            </table>
                        </div>

                        <hr />
                        <div class="my-form-buttons">
                            <div class="my-button-navigation" ng-click="pr.selectedProcessPanel = [false, false, false, true, false]; cr.scroll()"><span class="glyphicon glyphicon-chevron-left"></span>&nbsp;&nbsp;&nbsp; Nazad</div>
                            <div class="my-button-navigation"><a ng-click="pr.finishProcess()">Završi</a></div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="modal fade" id="confirmModal" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Delete an item</h4>
                        </div>
                        <div class="modal-body">
                            <form novalidate>
                                Are you sure you want to delete selected item?

                                <br><br>
                                <button type="button" class="btn btn-info" data-dismiss="modal" ng-click="pr.deleteCustomer()">Yes</button><!--Ugradi akciju za brisanje kad odradis selekciju-->
                                <button type="button" class="btn btn-info" data-dismiss="modal">No</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div> 

        </div>
    </div>
</div>